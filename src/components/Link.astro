---
interface Props {
  href: string;
  title?: string;
}

const { href, title } = Astro.props as Props;

function handleClassName() {
  if (href.startsWith('http')) {
    return 'lgspt-external-link';
  }

  if (href.startsWith('#')) {
    return 'lgspt-anchor-link';
  }

  return 'lgspt-link';
}

function handleIsExternal() {
  if (href.startsWith('http')) {
    return ({
      target: '_blank',
      rel: 'noopener noreferrer'
    });
  }

  return ({});
}

---

<a
  class={handleClassName()}
  href={href}
  title={!!title ? title : undefined}
  {...handleIsExternal()}
  ><slot /></a
>
